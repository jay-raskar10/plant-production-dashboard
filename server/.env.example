# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# Security Settings
# ============================================

# API Authentication
# Generate a secure random key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=your-secure-api-key-here

# Allowed API Keys (comma-separated for multiple clients)
# Example: key1,key2,key3
ALLOWED_API_KEYS=your-secure-api-key-here

# ============================================
# CORS Configuration
# ============================================

# Allowed Origins (comma-separated for multiple origins)
# Development (single machine):
#   CORS_ORIGIN=http://localhost:5173
# 
# Production LAN (multiple machines):
#   CORS_ORIGIN=http://192.168.1.100:5173,http://192.168.1.101:5173,http://192.168.1.102:5173
#
# Production LAN (wildcard for same subnet - use with caution):
#   CORS_ORIGIN=http://192.168.1.*:5173
CORS_ORIGIN=http://localhost:5173

# Allowed IP Ranges for LAN deployment (optional, comma-separated)
# Examples:
#   Single subnet: 192.168.1
#   Multiple subnets: 192.168.1,192.168.2,10.0.0
#   CIDR notation: 192.168.1.0/24,10.0.0.0/8
ALLOWED_IP_RANGES=

# Development Mode - Allows all origins (INSECURE - development only!)
# Set to 'true' to disable CORS restrictions during development
# NEVER use in production!
CORS_DEV_MODE=false

# ============================================
# LabVIEW Integration (Stage 2)
# ============================================

# Feature Flag: Use mock data or real LabVIEW API
# Set to 'false' when LabVIEW API is ready
USE_MOCK_DATA=true

# LabVIEW API Configuration
LABVIEW_API_URL=http://192.168.1.50:8080
LABVIEW_API_KEY=
LABVIEW_API_TIMEOUT=5000

# LabVIEW Connection Settings
LABVIEW_RETRY_ATTEMPTS=3
LABVIEW_RETRY_DELAY=1000

# ============================================
# Logging Configuration
# ============================================

# Log level: error, warn, info, http, verbose, debug, silly
# Recommendation: 'info' for production, 'debug' for development
LOG_LEVEL=info

# Enable file logging (in addition to console)
# Set to 'true' to write logs to files
# Files: logs/app.log (all logs), logs/app-error.log (errors only)
ENABLE_FILE_LOGGING=false

# Log file path (if file logging enabled)
LOG_FILE_PATH=./logs/app.log

# Request logging strategy
# Note: We use error-only logging to avoid spam from 3-second polling
# Only errors (4xx, 5xx) and security events are logged
# ============================================

# Rate Limiting
# ============================================

# Rate limit window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Data Caching (for LabVIEW integration)
# ============================================

# Cache TTL in seconds
CACHE_TTL=30

# Enable fallback to cached data when LabVIEW is down
ENABLE_CACHE_FALLBACK=true
